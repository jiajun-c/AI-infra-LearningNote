# TLB

TLB 被称为旁路块表缓冲，其实相当于是页表的缓存。

## TLB 原理

当CPU要访问一个虚拟地址/线性地址后，CPU会根据虚拟地址的高20位在TLB中进行查找，如果表中没有对应的项，将会触发TLB miss，需要通过访问慢速RAM的页表计算出相应的地物理地址。

## TLB组织结构

### 1. 全相联结构

在这种组织方式下，TLB cache的表项和线性地址没有任何关系。这种方式可以使得TLB的表项的的利用率最大，但是访问速度会下降，因为要逐一进行比较

### 2. 直接匹配

对线性地址进行取模然后得到根据取模得到的索引访问对应的页表项，该方法比较的速度快，但是很容易发生TLB miss


### 3. 组相连

为了解决全相联内部比较效率低和直接匹配的冲突，引入组相连，把所有的TLB表项分为多个组，每个线性地址对应的不是TLB表项，而是TLB组。然后内部进行顺序的匹配，通常要进行8路的匹配。


