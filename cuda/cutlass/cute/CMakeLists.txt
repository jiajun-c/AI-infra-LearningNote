cmake_minimum_required(VERSION 3.18)
project(MyCuteProject LANGUAGES CXX CUDA)

set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
set(CMAKE_CUDA_STANDARD 17)
set(CMAKE_CUDA_ARCHITECTURES 90) # å»ºè®®å…ˆæ”¹å› 80 è¯•è¯•ï¼Œé™¤éä½ ç¡®å®šæœ‰ H100

# ğŸ‘‡ æ–°å¢è¿™è¡Œï¼šå¼ºåˆ¶ nvcc ä½¿ç”¨ g++-11 ä½œä¸ºå®¿ä¸»ç¼–è¯‘å™¨
set(CMAKE_CUDA_FLAGS "${CMAKE_CUDA_FLAGS}")

# ... (åé¢ä¿æŒä¸å˜)
# 2. å®šä¹‰ä½ çš„ CUTLASS è·¯å¾„å˜é‡
# å‡è®¾ä½ çš„ç›®å½•ç»“æ„æ˜¯ .../cutlass/include/cute/...
set(CUTLASS_HOME "/staff/chengjiajun/local")

# 3. åˆ›å»ºæ¥å£åº“å¹¶æ·»åŠ  include è·¯å¾„
add_library(cutlass INTERFACE)
target_include_directories(cutlass INTERFACE "${CUTLASS_HOME}/include")

# 4. é“¾æ¥
add_executable(main main.cu)
target_link_libraries(main PRIVATE cutlass)